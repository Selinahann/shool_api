(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f28c13c4"],{2187:function(t,e,a){"use strict";a("e722")},5114:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-page"},[a("div",{staticClass:"info"},[a("h2",{staticClass:"title"},[t._v(t._s(t.detail.name))]),a("p",{staticClass:"des"},[t._v(t._s(t.detail.remark))]),a("footer",{staticClass:"footer-bar"},[a("b",{staticClass:"price"},[t._v(t._s(t.detail.price))]),t._v("/"),a("b",[t._v(t._s(t.detail.unit))])])]),a("div",{staticClass:"detail"},[a("el-tabs",{model:{value:t.tabActive,callback:function(e){t.tabActive=e},expression:"tabActive"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("添加课程")]),a("el-tab-pane",{attrs:{label:"专业课程",name:"first"}},[a("el-tree",{attrs:{data:t.subject,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.node,i=e.data;return a("span",{staticClass:"custom-tree-node"},[1===s.level?[a("span",[t._v(t._s(i.subject_title))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"}},[t._v(" 添加 ")]),a("el-button",{attrs:{type:"text",size:"mini"}},[t._v(" 删除 ")])],1)]:[a("span",[t._v(t._s(i.outline_title))]),a("span",[a("el-button",{attrs:{type:"text",size:"mini"}},[t._v(" 删除 ")])],1)]],2)}}])})],1)],1)],1),a("el-dialog",{attrs:{title:"添加专业",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"createform",attrs:{"label-position":"top",model:t.editParams,rules:t.rules}},[a("el-form-item",{attrs:{prop:"subject",label:"课程设置"}},[a("subject-edit",{model:{value:t.editParams.subject,callback:function(e){t.$set(t.editParams,"subject",e)},expression:"editParams.subject"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onCreateSubmit}},[t._v("确 定")])],1)],1)],1)},i=[],r=a("1da1"),n=(a("96cf"),{name:"majors_detail",data:function(){return{dialogFormVisible:!1,tabActive:"first",detail:{},subject:[],editParams:{subject:[]},rules:{}}},created:function(){this.fetchMajorsDetail()},methods:{fetchMajorsDetail:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.educational.majors.detail(t.$route.params.id);case 2:return a=e.sent,e.next=5,t.$api.educational.subject.list({majors_id:t.$route.params.id});case 5:s=e.sent,t.subject=s.data,t.editParams.subject=s.data,t.detail=a.data;case 9:case"end":return e.stop()}}),e)})))()},onCreateSubmit:function(){var t=this;this.$refs.createform.validate((function(e){e&&t.$api.educational.subject.create({subject:t.editParams.subject,majors_id:t.$route.params.id}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.educational.subject.list({majors_id:t.$route.params.id});case 2:a=e.sent,t.subject=a.data,t.editParams.subject=a.data;case 5:case"end":return e.stop()}}),e)}))))}))}}}),o=n,c=(a("2187"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"7e4fe512",null);e["default"]=l.exports},e722:function(t,e,a){}}]);
//# sourceMappingURL=chunk-f28c13c4.fcd82029.js.map