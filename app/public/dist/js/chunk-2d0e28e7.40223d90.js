(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e28e7"],{"7ecf":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("super-table",{attrs:{title:"教室列表",filters:e.filters,data:e.tableData,pagination:e.pagination,column:e.column},on:{filter:this.fetchQuestionsList},scopedSlots:e._u([{key:"tools",fn:function(){return[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加教室")])]},proxy:!0},{key:"action",fn:function(t){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.handlerEdit(t.row)}}},[e._v("编辑")]),o("el-popconfirm",{attrs:{title:"确定要删除教室"+t.row.room_num+"吗？"},on:{confirm:function(o){return e.handlerDelete(t.row.room_id)}}},[o("el-button",{attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[e._v("删除")])],1)]}}])}),o("el-dialog",{attrs:{title:"添加教室",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"createform",attrs:{"label-position":"top",model:e.createRoomParams,rules:e.rules}},[o("el-form-item",{attrs:{prop:"room_num",label:"教室号"}},[o("el-input",{model:{value:e.createRoomParams.room_num,callback:function(t){e.$set(e.createRoomParams,"room_num",t)},expression:"createRoomParams.room_num"}})],1),o("el-form-item",{attrs:{prop:"floor",label:"楼层"}},[o("el-input",{model:{value:e.createRoomParams.floor,callback:function(t){e.$set(e.createRoomParams,"floor",t)},expression:"createRoomParams.floor"}})],1),o("el-form-item",{attrs:{prop:"type",label:"教室类型"}},[o("el-select",{attrs:{placeholder:"请选择教室类型"},model:{value:e.createRoomParams.type,callback:function(t){e.$set(e.createRoomParams,"type",t)},expression:"createRoomParams.type"}},[o("el-option",{attrs:{label:"学生教室",value:"1001"}}),o("el-option",{attrs:{label:"办公室",value:"1002"}}),o("el-option",{attrs:{label:"会议室",value:"1003"}})],1)],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.onCreateSubmit}},[e._v("确 定")])],1)],1)],1)},r=[],i=o("1da1"),l=(o("96cf"),{name:"questions",data:function(){return{dialogFormVisible:!1,createRoomParams:{room_num:"",floor:"",type:""},rules:{room_num:[{required:!0,message:"请输入教室号"}],floor:[{required:!0,message:"请输入楼层"}],type:[{required:!0,message:"请选择教室类型"}]},filters:{type:{type:"select",options:[{label:"全部",value:""},{label:"已占用",value:1},{label:"未占用",value:2}],props:{placeholder:"教室类型"}}},column:[{name:"room_num",label:"教室号",props:{width:680}},{name:"floor",label:"楼层",props:{width:80}},{name:"type",label:"类型"},{name:"action",label:"操作",props:{width:120}}],pagination:{page:1,page_size:10,total:10},tableData:[]}},watch:{dialogFormVisible:function(e){e||(this.createRoomParams={room_num:"",floor:"",type:""},this.$refs.createform.resetFields())}},methods:{fetchQuestionsList:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$api.academic.room.list(e);case 2:a=o.sent,t.tableData=a.data;case 4:case"end":return o.stop()}}),o)})))()},add_question_command:function(e){this.create_title="添加".concat(e),this.create_drawer_visible=!0},onCreateSubmit:function(){var e=this;this.$refs.createform.validate((function(t){t&&(e.createRoomParams.room_id?(console.log("编辑"),e.dialogFormVisible=!1,e.fetchQuestionsList({})):e.$api.academic.room.create(e.createRoomParams).then((function(){e.dialogFormVisible=!1,e.fetchQuestionsList({})})).catch((function(){})))}))},handlerDelete:function(e){var t=this;this.$api.academic.room.delete(e).then((function(){t.$message({message:"班级删除成功",type:"success"}),t.fetchQuestionsList({})}))},handlerEdit:function(e){this.createRoomParams=e,this.dialogFormVisible=!0}}}),n=l,s=o("2877"),c=Object(s["a"])(n,a,r,!1,null,"53a3f27c",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0e28e7.40223d90.js.map