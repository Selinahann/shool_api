(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c8683"],{"556c":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("super-table",{attrs:{title:"组织架构",data:e.tableData,column:e.column,"row-key":"architectures_id","tree-props":{children:"children",hasChildren:"hasChildren"},"default-expand-all":""},on:{filter:this.fetchEmployeeList},scopedSlots:e._u([{key:"tools",fn:function(){return[a("el-button",{attrs:{type:"primary"},on:{click:e.addChildren}},[e._v("添加部门")])]},proxy:!0},{key:"action",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.addChildren(t.row)}}},[e._v("添加")]),a("el-popconfirm",{attrs:{title:"确定要删除"+t.row.architectures_name+"吗？"},on:{confirm:function(a){return e.handlerDelete(t.row.architectures_id)}}},[a("el-button",{attrs:{slot:"reference",type:"text",size:"small"},slot:"reference"},[e._v("删除")])],1)]}}])}),a("el-dialog",{attrs:{title:"添加员工",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"createform",attrs:{"label-position":"top",model:e.createParams,rules:e.rules}},[e.createParams.parent_name?a("el-form-item",{attrs:{prop:"room_num",label:"上级部门"}},[a("el-input",{attrs:{disabled:""},model:{value:e.createParams.parent_name,callback:function(t){e.$set(e.createParams,"parent_name",t)},expression:"createParams.parent_name"}})],1):e._e(),a("el-form-item",{attrs:{prop:"architectures_name",label:"部门名称"}},[a("el-input",{model:{value:e.createParams.architectures_name,callback:function(t){e.$set(e.createParams,"architectures_name",t)},expression:"createParams.architectures_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onCreateSubmit}},[e._v("确 定")])],1)],1)],1)},n=[],i=a("1da1"),s=(a("96cf"),{name:"enterpriseEmployee",data:function(){return{dialogFormVisible:!1,createParams:{photo:"",user_name:"",user_pwd:"",id_card:"",sex:"",mobile:"",nation:"",native_place:"",education:"",department_id:"",identity_id:""},rules:{architectures_name:[{required:!0,message:"请输入部门名称"}]},column:[{name:"user_name",label:"员工姓名"},{name:"id_card",label:"身份证号"},{name:"sex",label:"性别"},{name:"mobile",label:"手机号"},{name:"nation",label:"民族"},{name:"native_place",label:"籍贯"},{name:"education",label:"学历"},{name:"action",label:"操作",props:{width:120}}],tableData:[]}},watch:{dialogFormVisible:function(e){e||(this.createRoomParams={parent_name:"",parent_id:"",architectures_name:""},this.$refs.createform.resetFields())}},methods:{fetchEmployeeList:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$api.enterprise.employee.list(e);case 2:r=a.sent,t.tableData=r.data;case 4:case"end":return a.stop()}}),a)})))()},addChildren:function(e){e?(this.createParams.parent_id=e.architectures_id,this.createParams.parent_name=e.architectures_name):(this.createParams.parent_id="",this.createParams.parent_name=""),this.dialogFormVisible=!0},onCreateSubmit:function(){var e=this;this.$api.enterprise.architectures.create(this.createParams).then((function(){e.dialogFormVisible=!1,e.fetchEmployeeList()})).catch((function(){}))},handlerDelete:function(e){var t=this;this.$api.enterprise.architectures.remove(e).then((function(){t.$message({message:"部门删除成功",type:"success"}),t.fetchEmployeeList({})}))},handlerEdit:function(e){this.createRoomParams=e,this.dialogFormVisible=!0}}}),l=s,o=a("2877"),c=Object(o["a"])(l,r,n,!1,null,"205340e0",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0c8683.ef6b479b.js.map