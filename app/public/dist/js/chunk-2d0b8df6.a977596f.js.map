{"version":3,"sources":["webpack:///./src/views/educational/majors/index.vue?ac56","webpack:///src/views/educational/majors/index.vue","webpack:///./src/views/educational/majors/index.vue?bdc0","webpack:///./src/views/educational/majors/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","tableData","pagination","column","on","fetchMajorsList","scopedSlots","_u","key","fn","$event","dialogFormVisible","_v","proxy","scope","$router","push","row","majors_id","handlerDelete","slot","ref","createMajorsParams","rules","model","value","callback","$$v","$set","expression","staticStyle","staticClass","onCreateSubmit","staticRenderFns","name","data","price","remark","duration","unit","subject","required","message","filters","type","options","label","props","placeholder","width","page","page_size","total","watch","createRoomParams","$refs","createform","resetFields","methods","params","res","add_question_command","title","create_title","create_drawer_visible","console","$api","educational","majors","create","then","catch","id","delete","handlerEdit","item","component"],"mappings":"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","file":"js/chunk-2d0b8df6.a977596f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('super-table',{attrs:{\"title\":\"专业管理\",\"data\":_vm.tableData,\"pagination\":_vm.pagination,\"column\":_vm.column},on:{\"filter\":this.fetchMajorsList},scopedSlots:_vm._u([{key:\"tools\",fn:function(){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"添加专业\")])]},proxy:true},{key:\"action\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push('/educational/majors/' + scope.row.majors_id)}}},[_vm._v(\"详情\")]),_c('el-popconfirm',{attrs:{\"title\":(\"确定要删除专业\" + (scope.row.majors_id) + \"吗？\")},on:{\"confirm\":function($event){return _vm.handlerDelete(scope.row.majors_id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"text\",\"size\":\"small\"},slot:\"reference\"},[_vm._v(\"删除\")])],1)]}}])}),_c('el-dialog',{attrs:{\"title\":\"添加专业\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"createform\",attrs:{\"label-position\":\"top\",\"model\":_vm.createMajorsParams,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"room_num\",\"label\":\"专业名称\"}},[_c('el-input',{model:{value:(_vm.createMajorsParams.name),callback:function ($$v) {_vm.$set(_vm.createMajorsParams, \"name\", $$v)},expression:\"createMajorsParams.name\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"remark\",\"label\":\"专业介绍\"}},[_c('el-input',{model:{value:(_vm.createMajorsParams.remark),callback:function ($$v) {_vm.$set(_vm.createMajorsParams, \"remark\", $$v)},expression:\"createMajorsParams.remark\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"duration\",\"label\":\"学习时长\"}},[_c('el-input',{model:{value:(_vm.createMajorsParams.duration),callback:function ($$v) {_vm.$set(_vm.createMajorsParams, \"duration\", $$v)},expression:\"createMajorsParams.duration\"}},[_c('el-select',{staticStyle:{\"width\":\"60px\"},attrs:{\"slot\":\"append\",\"placeholder\":\"单位\"},slot:\"append\",model:{value:(_vm.createMajorsParams.unit),callback:function ($$v) {_vm.$set(_vm.createMajorsParams, \"unit\", $$v)},expression:\"createMajorsParams.unit\"}},[_c('el-option',{attrs:{\"label\":\"年\",\"value\":\"年\"}}),_c('el-option',{attrs:{\"label\":\"月\",\"value\":\"月\"}}),_c('el-option',{attrs:{\"label\":\"天\",\"value\":\"天\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"prop\":\"type\",\"label\":\"设置价格\"}},[_c('el-input-number',{model:{value:(_vm.createMajorsParams.price),callback:function ($$v) {_vm.$set(_vm.createMajorsParams, \"price\", $$v)},expression:\"createMajorsParams.price\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"subject\",\"label\":\"课程设置\"}},[_c('subject-edit',{model:{value:(_vm.createMajorsParams.subject),callback:function ($$v) {_vm.$set(_vm.createMajorsParams, \"subject\", $$v)},expression:\"createMajorsParams.subject\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onCreateSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <super-table\n      title=\"专业管理\"\n      :data=\"tableData\"\n      :pagination=\"pagination\"\n      :column=\"column\"\n      @filter=\"this.fetchMajorsList\"\n    >\n      <template v-slot:tools>\n        <el-button type=\"primary\" @click=\"dialogFormVisible = true\">添加专业</el-button>\n      </template>\n      <template v-slot:action=\"scope\">\n        <el-button type=\"text\" size=\"small\" @click=\"$router.push('/educational/majors/' + scope.row.majors_id)\">详情</el-button>\n        <el-popconfirm\n          :title=\"`确定要删除专业${scope.row.majors_id}吗？`\"\n          @confirm=\"handlerDelete(scope.row.majors_id)\"\n        >\n          <el-button slot=\"reference\" type=\"text\" size=\"small\">删除</el-button>\n        </el-popconfirm>\n      </template>\n    </super-table>\n    <el-dialog title=\"添加专业\" :visible.sync=\"dialogFormVisible\">\n      <el-form label-position=\"top\" :model=\"createMajorsParams\" :rules=\"rules\" ref=\"createform\">\n        <el-form-item prop=\"room_num\" label=\"专业名称\">\n          <el-input v-model=\"createMajorsParams.name\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"remark\"  label=\"专业介绍\">\n          <el-input v-model=\"createMajorsParams.remark\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"duration\"  label=\"学习时长\">\n          <el-input v-model=\"createMajorsParams.duration\">\n            <el-select v-model=\"createMajorsParams.unit\" slot=\"append\" style=\"width:60px;\" placeholder=\"单位\">\n              <el-option label=\"年\" value=\"年\"></el-option>\n              <el-option label=\"月\" value=\"月\"></el-option>\n              <el-option label=\"天\" value=\"天\"></el-option>\n            </el-select>\n          </el-input>\n        </el-form-item>\n        <el-form-item prop=\"type\"  label=\"设置价格\">\n          <el-input-number v-model=\"createMajorsParams.price\">\n          </el-input-number>\n        </el-form-item>\n        <el-form-item prop=\"subject\"  label=\"课程设置\">\n          <subject-edit v-model=\"createMajorsParams.subject\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"onCreateSubmit\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'EducationalMajors',\n  data () {\n    return {\n      dialogFormVisible: false,\n      createMajorsParams: {\n        name: '',\n        price: '',\n        remark: '',\n        duration: '',\n        unit: '月',\n        subject: []\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入专业名称' }\n        ],\n        price: [\n          { required: true, message: '请输入专业费用' }\n        ],\n        remark: [\n          { required: true, message: '请输入专业介绍' }\n        ],\n        duration: [\n          { required: true, message: '请输入专业学习时长' }\n        ],\n        unit: [\n          { required: true, message: '请选择时长单位' }\n        ],\n        subject: [\n          { required: true, message: '请输入专业课程' }\n        ]\n      },\n      filters: {\n        type: {\n          type: 'select',\n          options: [\n            { label: '全部', value: '' },\n            { label: '已占用', value: 1 },\n            { label: '未占用', value: 2 }\n          ],\n          props: {\n            placeholder: '教室类型'\n          }\n        }\n      },\n      column: [\n        {\n          name: 'name',\n          label: '专业名称',\n          props: {\n            width: 160\n          }\n        },\n        {\n          name: 'remark',\n          label: '课程简介',\n          props: {\n            width: 680\n          }\n        },\n        {\n          name: 'duration',\n          label: '时间'\n        },\n        {\n          name: 'price',\n          label: '费用'\n        },\n        {\n          name: 'action',\n          label: '操作',\n          props: {\n            width: 120\n          }\n        }\n      ],\n      pagination: {\n        page: 1,\n        page_size: 10,\n        total: 10\n      },\n      tableData: []\n    }\n  },\n  watch: {\n    dialogFormVisible (value) {\n      if (!value) {\n        this.createRoomParams = {\n          name: '',\n          price: '',\n          remark: '',\n          duration: '',\n          unit: '月',\n          subject: []\n        }\n        this.$refs.createform.resetFields()\n      }\n    }\n  },\n  methods: {\n    async fetchMajorsList (params) {\n      const res = await this.$api.educational.majors.list(params)\n      this.tableData = res.data\n      // this.pagination = res.pagination\n    },\n    add_question_command (title) {\n      this.create_title = `添加${title}`\n      this.create_drawer_visible = true\n    },\n    onCreateSubmit () {\n      console.log(this.createMajorsParams)\n      this.$api.educational.majors.create(this.createMajorsParams).then(() => {\n        this.dialogFormVisible = false\n        this.fetchMajorsList({})\n      }).catch(() => {\n        // this.dialogFormVisible = false\n      })\n      // this.$refs.createform.validate((valid) => {\n      //   if (valid) {\n      //     if (this.createRoomParams.room_id) {\n      //       console.log('编辑')\n      //       this.dialogFormVisible = false\n      //       this.fetchQuestionsList({})\n      //     } else {\n      //       this.$api.academic.room.create(this.createRoomParams).then(() => {\n      //         this.dialogFormVisible = false\n      //         this.fetchQuestionsList({})\n      //       }).catch(() => {\n      //         // this.dialogFormVisible = false\n      //       })\n      //     }\n      //   }\n      // })\n    },\n    handlerDelete (id) {\n      this.$api.educational.majors.delete(id).then(() => {\n        this.$message({\n          message: '课程删除成功',\n          type: 'success'\n        })\n        this.fetchMajorsList({})\n      })\n    },\n    handlerEdit (item) {\n      this.createRoomParams = item\n      this.dialogFormVisible = true\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5444e423&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5444e423\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}