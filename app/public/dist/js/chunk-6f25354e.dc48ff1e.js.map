{"version":3,"sources":["webpack:///./src/views/educational/paper/index.vue?d50b","webpack:///src/views/educational/paper/index.vue","webpack:///./src/views/educational/paper/index.vue?2004","webpack:///./src/views/educational/paper/index.vue","webpack:///./src/views/educational/paper/index.vue?db98"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","filters","tableData","pagination","column","on","fetchPaperList","scopedSlots","_u","key","fn","$event","$router","push","staticClass","_v","proxy","scope","model","value","row","callback","$$v","$set","expression","handleClick","ref","create_title","create_drawer_visible","_s","$refs","drawer","closeDrawer","handlerCreate","staticRenderFns","name","data","question_type_id","type","options","props","placeholder","difficulty","label","outline_id","width","page","page_size","total","questionTypes","majors","created","fetchInitData","methods","apis","Promise","console","params","res","add_question_command","item","id","createForm","onSubmit","then","component"],"mappings":"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","file":"js/chunk-6f25354e.dc48ff1e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('super-table',{attrs:{\"title\":\"试卷列表\",\"filters\":_vm.filters,\"data\":_vm.tableData,\"pagination\":_vm.pagination,\"column\":_vm.column},on:{\"filter\":_vm.fetchPaperList},scopedSlots:_vm._u([{key:\"tools\",fn:function(){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.push('/educational/paper/create')}}},[_c('i',{staticClass:\"el-icon-arrow-down el-icon-plus\"}),_vm._v(\"创建试卷\")])]},proxy:true},{key:\"difficulty\",fn:function(scope){return [_c('el-rate',{attrs:{\"disabled\":\"\",\"show-score\":\"\",\"text-color\":\"#ff9900\",\"score-template\":\"{value}\"},model:{value:(scope.row.difficulty),callback:function ($$v) {_vm.$set(scope.row, \"difficulty\", $$v)},expression:\"scope.row.difficulty\"}})]}},{key:\"action\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleClick(scope.row)}}},[_vm._v(\"预览\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"}},[_vm._v(\"删除\")])]}}])}),_c('el-drawer',{ref:\"drawer\",staticClass:\"drawer\",attrs:{\"title\":_vm.create_title,\"visible\":_vm.create_drawer_visible,\"show-close\":false,\"size\":\"90%\",\"direction\":\"btt\"},on:{\"update:visible\":function($event){_vm.create_drawer_visible=$event}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('header',{staticClass:\"drawer-header\"},[_c('h2',[_vm._v(_vm._s(_vm.create_title))]),_c('div',{staticClass:\"btn-group\"},[_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.$refs.drawer.closeDrawer()}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlerCreate}},[_vm._v(\"保存\")])],1)])]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <super-table\n      title=\"试卷列表\"\n      :filters=\"filters\"\n      :data=\"tableData\"\n      :pagination=\"pagination\"\n      :column=\"column\"\n      @filter=\"fetchPaperList\"\n    >\n      <template v-slot:tools>\n        <el-button\n          type=\"primary\"\n          @click=\"$router.push('/educational/paper/create')\"\n        ><i class=\"el-icon-arrow-down el-icon-plus\"></i>创建试卷</el-button>\n      </template>\n      <template v-slot:difficulty=\"scope\">\n        <el-rate\n          v-model=\"scope.row.difficulty\"\n          disabled\n          show-score\n          text-color=\"#ff9900\"\n          score-template=\"{value}\">\n        </el-rate>\n      </template>\n      <template v-slot:action=\"scope\">\n        <el-button @click=\"handleClick(scope.row)\" type=\"text\" size=\"small\">预览</el-button>\n        <el-button type=\"text\" size=\"small\">编辑</el-button>\n        <el-button type=\"text\" size=\"small\">删除</el-button>\n      </template>\n    </super-table>\n\n    <el-drawer\n      :title=\"create_title\"\n      :visible.sync=\"create_drawer_visible\"\n      :show-close=\"false\"\n      size=\"90%\"\n      ref=\"drawer\"\n      direction=\"btt\"\n      class=\"drawer\"\n    >\n      <template  v-slot:title>\n        <header class=\"drawer-header\">\n          <h2>{{create_title}}</h2>\n          <div class=\"btn-group\">\n            <el-button type=\"info\" @click=\"$refs.drawer.closeDrawer()\">取消</el-button>\n            <el-button type=\"primary\" @click=\"handlerCreate\">保存</el-button>\n          </div>\n        </header>\n      </template>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'educational-paper',\n  data () {\n    return {\n      question_type_id: '',\n      filters: {\n        question_type_id: {\n          type: 'select',\n          options: [],\n          props: {\n            placeholder: '题型'\n          }\n        },\n        difficulty: {\n          type: 'select',\n          options: [\n            { label: '全部', value: '' },\n            { label: '简单', value: 1 },\n            { label: '中等', value: 2 },\n            { label: '困难', value: 3 }\n          ],\n          props: {\n            placeholder: '难度'\n          }\n        },\n        outline_id: {\n          type: 'cascader',\n          options: [],\n          props: {\n            placeholder: '课程'\n          }\n        }\n      },\n      column: [\n        {\n          name: 'title',\n          label: '试卷名称',\n          props: {\n            width: 280\n          }\n        },\n        {\n          name: 'questions',\n          label: '总题数',\n          props: {\n            width: 80\n          }\n        },\n        {\n          name: 'students',\n          label: '考试班级'\n        },\n        {\n          name: 'start_time',\n          label: '考试时间',\n          props: {\n            width: 180\n          }\n        },\n        {\n          name: 'students',\n          label: '考试人数'\n        },\n        {\n          name: 'action',\n          label: '操作',\n          props: {\n            width: 180\n          }\n        }\n      ],\n      create_drawer_visible: false,\n      create_title: '',\n      pagination: {\n        page: 1,\n        page_size: 10,\n        total: 0\n      },\n      tableData: [],\n      questionTypes: [],\n      majors: []\n    }\n  },\n  created () {\n    this.fetchInitData()\n  },\n  methods: {\n    async fetchInitData () {\n      const apis = [\n        this.$api.educational.question.type(),\n        this.$api.educational.question.majors(),\n        this.$api.educational.outline.list()\n      ]\n      Promise.all(apis).then((res) => {\n        console.log(res)\n        this.filters.question_type_id.options = res[0].data.map((item) => {\n          return {\n            label: item.question_type_text,\n            value: item.question_type_id\n          }\n        })\n        this.filters.outline_id.options = res[2].data\n        this.questionTypes = res[0].data\n        this.majors = res[1].data\n      })\n    },\n    async fetchPaperList (params) {\n      const res = await this.$api.educational.paper.list(params)\n      this.tableData = res.data\n      this.pagination = res.pagination\n    },\n    add_question_command (item) {\n      this.question_type_id = item.id\n      this.create_title = `添加${item.text}`\n      this.create_drawer_visible = true\n    },\n    handlerCreate () {\n      this.$refs.createForm.onSubmit().then(() => {\n        this.$refs.drawer.closeDrawer()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.page-header {\n  margin-bottom: 20px;\n  .header-bar {\n    @include flex(row, center, space-between);\n    // height: 100px;\n    // justify-content: space-between;\n    margin-bottom: 20px;\n\n  }\n  .title {\n    font-size: 18px;\n    font-weight: bold;\n  }\n  /deep/ .el-form {\n    .el-form-item {\n      margin-bottom: 0;\n    }\n  }\n}\n.drawer-header {\n  @include wh(100%, 60px);\n  @include flex(row, center, space-between);\n  border-bottom: 1px solid #ccc;\n  padding: 0 20px;\n}\n.drawer {\n  /deep/ .el-drawer__header {\n    padding: 0;\n    margin: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=00019ef5&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=00019ef5&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00019ef5\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=00019ef5&lang=scss&scoped=true&\""],"sourceRoot":""}